<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body>

        <div class="container-sm">
            <h1>Umfrage</h1>
    
            <p>Bitte die folgende Umfrage ausfÃ¼llen, Danke!</p>
    
            <form id="surveyForm" onsubmit="return onSubmit()">
                <div class="mb-3">
                    <label for="firstname" class="form-label">Firstname</label>
                    <input type="text" class="form-control" id="firstname">
                </div>
    
                <div class="mb-3">
                    <label for="lastname" class="form-label">Lastname</label>
                    <input type="text" class="form-control" id="lastname">
                </div>
    
                <button type="submit" class="btn btn-primary">Absenden</button>
            </form>
        </div>

        <script>
            function onSubmit() {
                const form = document.getElementById('surveyForm');

                const surveyData = {
                    firstname: form.elements['firstname'].value,
                    lastname: form.elements['lastname'].value
                }

                console.log(surveyData);

                fetch('https://func-gastvortrag-serverless-team0.azurewebsites.net/api/registration', {
                    method: 'POST',
                    body: JSON.stringify(surveyData)
                })
                    .then(response => {
                        console.log(response);
                    })

                return false;
            }
        </script>
    </body>
</html>